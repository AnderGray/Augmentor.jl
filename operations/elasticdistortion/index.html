<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ElasticDistortion: Smoothed random distortions · Augmentor.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="Augmentor.jl logo"/></a><h1>Augmentor.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><a class="toctext" href="../../gettingstarted/">Getting Started</a></li><li><span class="toctext">Introduction and Motivation</span><ul><li><a class="toctext" href="../../background/">Background and Motivation</a></li><li><a class="toctext" href="../../images/">Working with Images in Julia</a></li></ul></li><li><span class="toctext">User&#39;s Guide</span><ul><li><a class="toctext" href="../../interface/">High-level Interface</a></li><li><a class="toctext" href="../">Supported Operations</a><ul><li class="current"><a class="toctext" href>ElasticDistortion: Smoothed random distortions</a><ul class="internal"></ul></li></ul></li></ul></li><li><span class="toctext">Tutorials</span><ul><li><a class="toctext" href="../../generated/mnist_elastic/">MNIST: Elastic Distortions</a></li><li><a class="toctext" href="../../generated/mnist_tensorflow/">MNIST: TensorFlow CNN</a></li></ul></li><li><a class="toctext" href="../../LICENSE/">LICENSE</a></li></ul></nav><article id="docs"><header><nav><ul><li>User&#39;s Guide</li><li><a href="../">Supported Operations</a></li><li><a href>ElasticDistortion: Smoothed random distortions</a></li></ul><a class="edit-page" href="https://github.com/Evizero/Augmentor.jl/tree/7b9db6cf3ade32c68fe70e4ea5769c13a78296fb/docs/src/operations/elasticdistortion.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>ElasticDistortion: Smoothed random distortions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="ElasticDistortion-1" href="#ElasticDistortion-1">ElasticDistortion: Smoothed random distortions</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Augmentor.ElasticDistortion" href="#Augmentor.ElasticDistortion"><code>Augmentor.ElasticDistortion</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">ElasticDistortion &lt;: Augmentor.ImageOperation</code></pre><p><strong>Description</strong></p><p>Distorts the given image using a randomly (uniform) generated vector field of the given grid size. This field will be stretched over the given image when applied, which in turn will morph the original image into a new image using a linear interpolation of both the image and the vector field.</p><p>In contrast to [<code>RandomDistortion</code>], the resulting vector field is also smoothed using a Gaussian filter with of parameter <code>sigma</code>. This will result in a less chaotic vector field and thus resemble a more natural distortion.</p><p><strong>Usage</strong></p><pre><code class="language-none">ElasticDistortion(gridheight, gridwidth, scale, sigma, [iter=1], [border=false], [norm=true])

ElasticDistortion(gridheight, gridwidth, scale; [sigma=2], [iter=1], [border=false], [norm=true])

ElasticDistortion(gridheight, [gridwidth]; [scale=0.2], [sigma=2], [iter=1], [border=false], [norm=true])</code></pre><p><strong>Arguments</strong></p><ul><li><p><strong><code>gridheight</code></strong> : The grid height of the displacement vector   field. This effectively specifies the number of vertices   along the Y dimension used as landmarks, where all the   positions between the grid points are interpolated.</p></li><li><p><strong><code>gridwidth</code></strong> : The grid width of the displacement vector   field. This effectively specifies the number of vertices   along the Y dimension used as landmarks, where all the   positions between the grid points are interpolated.</p></li><li><p><strong><code>scale</code></strong> : Optional. The scaling factor applied to all   displacement vectors in the field. This effectively defines   the &quot;strength&quot; of the deformation. There is no theoretical   upper limit to this factor, but a value somewhere between   <code>0.01</code> and <code>1.0</code> seem to be the most reasonable choices.   Default to <code>0.2</code>.</p></li><li><p><strong><code>sigma</code></strong> : Optional. Sigma parameter of the Gaussian filter.   This parameter effectively controls the strength of the   smoothing. Defaults to <code>2</code>.</p></li><li><p><strong><code>iter</code></strong> : Optional. The number of times the smoothing   operation is applied to the displacement vector field. This   is especially useful if <code>border = false</code> because the border   will be reset to zero after each pass. Thus the displacement   is a little less aggressive towards the borders of the image   than it is towards its center. Defaults to   <code>1</code>.</p></li><li><p><strong><code>border</code></strong> : Optional. Specifies if the borders should be   distorted as well. If <code>false</code>, the borders of the image will   be preserved. This effectively pins the outermost vertices on   their original position and the operation thus only distorts   the inner content of the image. Defaults to   <code>false</code>.</p></li><li><p><strong><code>norm</code></strong> : Optional. If <code>true</code>, the displacement vectors of   the field will be normalized by the norm of the field. This   will have the effect that the <code>scale</code> factor should be more   or less independent of the grid size. Defaults to   <code>true</code>.</p></li></ul><p><strong>See also</strong></p><p><a href="../../interface/#Augmentor.augment"><code>augment</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia">using Augmentor
img = testpattern()

# distort with pinned borders
augment(img, ElasticDistortion(15, 15; scale = 0.1))

# distort everything more smoothly.
augment(img, ElasticDistortion(10, 10; sigma = 4, iter=3, border=true))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/Evizero/Augmentor.jl/tree/7b9db6cf3ade32c68fe70e4ea5769c13a78296fb/src/operations/distortion.jl#L7-L96">source</a></section><div><table><tr><th>Input</th><th><code>ElasticDistortion(15, 15, 0.1)</code></th></tr><tr><td><img src="../../assets/testpattern.png" alt="input"/></td><td><img src="../../assets/ElasticDistortion.gif" alt="output"/></td></tr></table></div><div><table><tr><th>Input</th><th><code>ElasticDistortion(10, 10, 0.2, 4, 3, true)</code></th></tr><tr><td><img src="../../assets/testpattern.png" alt="input"/></td><td><img src="../../assets/ElasticDistortion2.gif" alt="output"/></td></tr></table></div><footer><hr/><a class="previous" href="../zoom/"><span class="direction">Previous</span><span class="title">Zoom: Scale without resize</span></a><a class="next" href="../crop/"><span class="direction">Next</span><span class="title">Crop: Subset image</span></a></footer></article></body></html>
